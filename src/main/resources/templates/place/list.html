<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="setContent(content)">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>Simple Sidebar - Start Bootstrap Template</title>

        <title>Simple Sidebar - Start Bootstrap Template</title>

        <!-- Bootstrap core CSS -->
        <link th:href="@{/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link th:href="@{/css/simple-sidebar.css}" rel="stylesheet">

        <!-- Bootstrap core JavaScript -->
        <script th:src="@{/vendor/jquery/jquery.min.js}"></script>
        <script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
    </head>

    <body>
    <div class="d-flex" id="wrapper">
            <div class="container-fluid">

                <h1 class="mt-4">Place List Page
                    <span>
                        <a th:href="@{/place/register}">
                            <button type="button" class="btn btn-outline-primary">REGISTER</button>
                        </a>
                    </span>
                </h1>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">name & photo</th>
                            <th scope="col">Review</th>
                            <th scope="col">AVG Rating</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr th:each="dto : ${result.dtoList}" >
                            <th scope="row">
                                <img th:if="${dto.imageDTOList.size() > 0 && dto.imageDTOList[0].path != null }"
                                    th:src="|/display?fileName=${dto.imageDTOList[0].getThumbnailURL()}|" >
                                <a th:href="@{/place/read(placeId = ${dto.placeId}, page=${result.page})}">[[${dto.name}]]</a>
                            </th>
                        <td scope="row">[[${dto.reviewCnt}]]</td>
                        <td scope="row">[[${dto.avg}]]</td>
                    </tr>
                    </tbody>
                </table>

                <ul class="pagination h-100 justify-content-center align-items-center">
                    <li class="page-item " th:if="${result.prev}">
                        <a class="page-link" th:href="@{/place/list(page= ${result.start -1})}" tabindex="-1">
                            Previous
                        </a>
                    </li>

                    <li th:class=" 'page-item ' + ${result.page == page?'active':''} " th:each="page: ${result.pageList}">
                        <a class="page-link" th:href="@{/place/list(page = ${page})}">
                            [[${page}]]
                        </a>
                    </li>

                    <li class="page-item" th:if="${result.next}">
                        <a class="page-link" th:href="@{/place/list(page= ${result.end + 1} )}">
                            Next
                        </a>
                    </li>
                </ul>

            </div>
        </div>
    </div>
    </body>
</th:block>
</html>

